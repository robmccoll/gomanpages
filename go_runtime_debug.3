.\"    Automatically generated by mango(1)
.TH "debug" 3 "2014-11-26" "version 2014-11-26" "Go Packages"
.SH "NAME"
debug \- Package debug contains facilities for programs to debug themselves while
they are running.
.SH "SYNOPSIS"
.B import \*(lqdebug\(rq
.sp
.RB "func " FreeOSMemory
.sp 0
.RB "func " PrintStack
.sp 0
.RB "func " ReadGCStats
.sp 0
.RB "func " SetGCPercent
.sp 0
.RB "func " SetMaxStack
.sp 0
.RB "func " SetMaxThreads
.sp 0
.RB "func " SetPanicOnFault
.sp 0
.RB "func " Stack
.sp 0
.RB "func " WriteHeapDump
.sp 0
.RB "type " GCStats
.sp 0
.RB "type " byDuration
.sp 0
.RS
.RB "func (byDuration) " Len
.sp 0
.RB "func (byDuration) " Less
.sp 0
.RB "func (byDuration) " Swap
.sp 0
.RE
.SH "FUNCTIONS"
.PP
.BR "func FreeOSMemory()"
.PP
FreeOSMemory forces a garbage collection followed by an attempt to return as much memory to the operating system as possible. 
(Even if this is not called, the runtime gradually returns memory to the operating system in a background task.) 
.PP
.BR "func PrintStack()"
.PP
PrintStack prints to standard error the stack trace returned by Stack. 
.PP
.BR "func ReadGCStats(" "stats" " *GCStats)"
.PP
ReadGCStats reads statistics about garbage collection into stats. 
The number of entries in the pause history is system\-dependent; stats.Pause slice will be reused if large enough, reallocated otherwise. 
ReadGCStats may use the full capacity of the stats.Pause slice. 
If stats.PauseQuantiles is non\-empty, ReadGCStats fills it with quantiles summarizing the distribution of pause time. 
For example, if len(stats.PauseQuantiles) is 5, it will be filled with the minimum, 25%, 50%, 75%, and maximum pause times. 
.PP
.BR "func SetGCPercent(" "percent" " int) int"
.PP
SetGCPercent sets the garbage collection target percentage: a collection is triggered when the ratio of freshly allocated data to live data remaining after the previous collection reaches this percentage. 
SetGCPercent returns the previous setting. 
The initial setting is the value of the GOGC environment variable at startup, or 100 if the variable is not set. 
A negative percentage disables garbage collection. 
.PP
.BR "func SetMaxStack(" "bytes" " int) int"
.PP
SetMaxStack sets the maximum amount of memory that can be used by a single goroutine stack. 
If any goroutine exceeds this limit while growing its stack, the program crashes. 
SetMaxStack returns the previous setting. 
The initial setting is 1 GB on 64\-bit systems, 250 MB on 32\-bit systems. 
.PP
SetMaxStack is useful mainly for limiting the damage done by goroutines that enter an infinite recursion. 
It only limits future stack growth. 
.PP
.BR "func SetMaxThreads(" "threads" " int) int"
.PP
SetMaxThreads sets the maximum number of operating system threads that the Go program can use. 
If it attempts to use more than this many, the program crashes. 
SetMaxThreads returns the previous setting. 
The initial setting is 10,000 threads. 
.PP
The limit controls the number of operating system threads, not the number of goroutines. 
A Go program creates a new thread only when a goroutine is ready to run but all the existing threads are blocked in system calls, cgo calls, or are locked to other goroutines due to use of runtime.LockOSThread. 
.PP
SetMaxThreads is useful mainly for limiting the damage done by programs that create an unbounded number of threads. 
The idea is to take down the program before it takes down the operating system. 
.PP
.BR "func SetPanicOnFault(" "enabled" " bool) bool"
.PP
SetPanicOnFault controls the runtime's behavior when a program faults at an unexpected (non\-nil) address. 
Such faults are typically caused by bugs such as runtime memory corruption, so the default response is to crash the program. 
Programs working with memory\-mapped files or unsafe manipulation of memory may cause faults at non\-nil addresses in less dramatic situations; SetPanicOnFault allows such programs to request that the runtime trigger only a panic, not a crash. 
SetPanicOnFault applies only to the current goroutine. 
It returns the previous setting. 
.PP
.BR "func Stack() []byte"
.PP
Stack returns a formatted stack trace of the goroutine that calls it. 
For each routine, it includes the source line information and PC value, then attempts to discover, for Go functions, the calling function or method and the text of the line containing the invocation. 
.PP
This function is deprecated. 
Use package runtime's Stack instead. 
.PP
.BR "func WriteHeapDump(" "fd" " uintptr)"
.PP
WriteHeapDump writes a description of the heap and the objects in it to the given file descriptor. 
The heap dump format is defined at http://golang.org/s/go13heapdump. 
.SH "TYPES"
.SS "GCStats"
.B type GCStats struct {
.RS
.B LastGC time.Time
.sp 0
.B NumGC int64
.sp 0
.B PauseTotal time.Duration
.sp 0
.B Pause []time.Duration
.sp 0
.B PauseQuantiles []time.Duration
.RE
.B }
.PP
GCStats collect information about recent garbage collections. 
.SS "byDuration"
.B type byDuration []time.Duration
.PP
.PP
.BR "func (byDuration) Len() int"
.PP
.BR "func (byDuration) Less(" "i" ", " "j" " int) bool"
.PP
.BR "func (byDuration) Swap(" "i" ", " "j" " int)"
